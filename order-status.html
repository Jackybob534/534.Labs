<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Order Status</title>
<style>
    body { font-family: Arial, sans-serif; background: #f0f0f0; padding: 20px; }
    .container { max-width: 600px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; }
    h1 { color: #007BFF; }
    .status { font-size: 1.2em; margin-top: 10px; }
</style>
</head>
<body>
<div class="container">
    <h1>Order Status</h1>
    <p id="order-number"></p>
    <p id="status" class="status"></p>
</div>

<script>
// Get order code from URL query string
const params = new URLSearchParams(window.location.search);
const orderCode = params.get('order');

const orderNumberEl = document.getElementById('order-number');
const statusEl = document.getElementById('status');

if (!orderCode) {
    orderNumberEl.textContent = "No order number provided.";
    statusEl.textContent = "";
} else {
    orderNumberEl.textContent = `Order Code: ${orderCode}`;

    // Fetch orders.json from GitHub
    fetch('https://jackybob534.github.io/534.Labs/orders.json')
    .then(res => res.json())
    .then(orders => {
        if (!orders[orderCode]) {
            statusEl.textContent = "Order not found!";
            return;
        }
        const order = orders[orderCode];
        const dots = 'â€¢'.repeat(order.status || 0);
        statusEl.textContent = `Item: ${order.item}\nStatus: ${dots} (${order.status})`;
    })
    .catch(err => {
        console.error(err);
        statusEl.textContent = "Failed to load order data.";
    });
}
</script>
</body>
</html>
